---
layout: js-documentation
title: Ink.Util.I18n_1
description: Internationalization Utilities
site_root:  ../
---
    <section><p><i class="fa fa-leaf"></i> All samples are using <code>Ink.requireModules</code>, please read how to use it at <a href="/javascript/Ink/#Ink_1-Ink_1-requireModules">Ink.requireModules section</a></p>

    <h2 class="fw-300 class-name">
        Ink.Util.I18n <i>class</i>
        
    </h2><p>You can use this module to internationalize your applications. It roughly emulates GNU gettext&#39;s API.</p>
<table class="props bottom-space">
        <caption>Methods</caption>
        <thead>
            <tr>
                <th>Method name</th>
                <th>Description</th>
            </tr>
        </thead>
        
        <tbody>
            <tr>
                <td>
                    <a href="#Ink_Util_I18n_1-Ink_Util_I18n-I18n">new I18n(dict, [lang])
</a>
                </td>
                <td><span class="ink-label green">Constructor</span></td>
            </tr>
            <tr>
                <td>
                    <a href="#Ink_Util_I18n_1-Ink_Util_I18n-alias">.alias()
</a>
                </td>
                <td> Create an alias.</td>
            </tr>
            <tr>
                <td>
                    <a href="#Ink_Util_I18n_1-Ink_Util_I18n-append">.append(dict)
</a>
                </td>
                <td> Adds translation strings for the helper to use.</td>
            </tr>
            <tr>
                <td>
                    <a href="#Ink_Util_I18n_1-Ink_Util_I18n-appendGlobal">.appendGlobal(dict, lang)
</a>
                </td>
                <td> Adds a dictionary to be used in all I18n instances for the corresponding language.</td>
            </tr>
            <tr>
                <td>
                    <a href="#Ink_Util_I18n_1-Ink_Util_I18n-getKey">.getKey(key)
</a>
                </td>
                <td> Gest a key from the current dictionary</td>
            </tr>
            <tr>
                <td>
                    <a href="#Ink_Util_I18n_1-Ink_Util_I18n-lang">.lang(lang)
</a>
                </td>
                <td> Gets or sets the language.</td>
            </tr>
            <tr>
                <td>
                    <a href="#Ink_Util_I18n_1-Ink_Util_I18n-langGlobal">.langGlobal(lang)
</a>
                </td>
                <td> Gets or sets the current default language of I18n instances.</td>
            </tr>
            <tr>
                <td>
                    <a href="#Ink_Util_I18n_1-Ink_Util_I18n-ntext">.ntext(strSin, strPlur, count, [args*])
</a>
                </td>
                <td> Translates and pluralizes text.</td>
            </tr>
            <tr>
                <td>
                    <a href="#Ink_Util_I18n_1-Ink_Util_I18n-ordinal">.ordinal(num, [options])
</a>
                </td>
                <td> Gets the ordinal suffix of a number.</td>
            </tr>
            <tr>
                <td>
                    <a href="#Ink_Util_I18n_1-Ink_Util_I18n-reset">.reset()
</a>
                </td>
                <td> Resets I18n global state (global dictionaries, and default language for instances)</td>
            </tr>
            <tr>
                <td>
                    <a href="#Ink_Util_I18n_1-Ink_Util_I18n-testMode">.testMode(bool)
</a>
                </td>
                <td> Sets or unsets test mode.</td>
            </tr>
            <tr>
                <td>
                    <a href="#Ink_Util_I18n_1-Ink_Util_I18n-text">.text(str, [namedParms], [args], [arg2], [argn*])
</a>
                </td>
                <td> Translates a string.</td>
            </tr></tbody>
    </table>
    
</section>



    <section id="Ink_Util_I18n_1-Ink_Util_I18n-I18n" class="box box-function">
    <h1 class="fw-300 function-desc">new Ink.Util.I18n(dict, [lang])

    </h1>
        <h3>Accepts</h3>
        
        <ul class="params">
            <li class="level1">
                <p>dict
                    <span class="label mandatory"></span><span class="label object"></span></p>
                Object mapping language codes (in the form of `pt_PT`, `pt_BR`, `fr`, `en_US`, etc.) to their `dictionaries`</li>
            <li class="level1">
                <p>lang
                    <span class="label string"></span></p>
                &#x27;pt_PT&#x27;language code of the target language</li>
        </ul>

<!--<h3>Samples</h3>-->
		{% include js_samples/Ink_Util_I18n_1.html %}
	</section>

    <section id="Ink_Util_I18n_1-Ink_Util_I18n-alias" class="box box-function">
    <h1 class="fw-300 function-desc">.alias()

    <i>method</i></h1><p class="text">Create an alias.<br><p>Returns an alias to this I18n instance. It contains the I18n methods documented here, but is also a function. If you call it, it just calls <code>text()</code>. This is commonly assigned to &quot;_&quot;.</p></p>
    <h3>Returns</h3>
    <ul class="params">
        <li class="return">
            <p><span class="label function"></span> </p>an alias to `text()` on this instance. You can also access the rest of the translation API through this alias.
        </li>
    </ul>
    

<!--<h3>Samples</h3>-->
		{% include js_samples/Ink_Util_I18n_1_alias.html %}
	</section>

    <section id="Ink_Util_I18n_1-Ink_Util_I18n-append" class="box box-function">
    <h1 class="fw-300 function-desc">.append(dict)

    <i>method</i></h1><p class="text">Adds translation strings for the helper to use.</p>
        <h3>Accepts</h3>
        
        <ul class="params">
            <li class="level1">
                <p>dict
                    <span class="label mandatory"></span><span class="label object"></span></p>
                Object containing language objects identified by their language code</li>
        </ul>

<!--<h3>Samples</h3>-->
		{% include js_samples/Ink_Util_I18n_1_append.html %}
	</section>

    <section id="Ink_Util_I18n_1-Ink_Util_I18n-appendGlobal" class="box box-function">
    <h1 class="fw-300 function-desc">.appendGlobal(dict, lang)

    <i>method</i></h1><p class="text">Adds a dictionary to be used in all I18n instances for the corresponding language.</p>
        <h3>Accepts</h3>
        
        <ul class="params">
            <li class="level1">
                <p>dict
                    <span class="label mandatory"></span></p>
                {Object}     Dictionary to be added</li>
            <li class="level1">
                <p>lang
                    <span class="label mandatory"></span></p>
                {String}     Language fo the dictionary being added</li>
        </ul>

</section>

    <section id="Ink_Util_I18n_1-Ink_Util_I18n-getKey" class="box box-function">
    <h1 class="fw-300 function-desc">.getKey(key)

    <i>method</i></h1><p class="text">Gest a key from the current dictionary</p>
        <h3>Accepts</h3>
        
        <ul class="params">
            <li class="level1">
                <p>key
                    <span class="label mandatory"></span><span class="label string"></span></p>
                </li>
        </ul>
    <h3>Returns</h3>
    <ul class="params">
        <li class="return">
            <p><span class="label mixed"></span> </p>The object which happened to be in the current language dictionary on the given key.
        </li>
    </ul>
    

<!--<h3>Samples</h3>-->
		{% include js_samples/Ink_Util_I18n_1_getKey.html %}
	</section>

    <section id="Ink_Util_I18n_1-Ink_Util_I18n-lang" class="box box-function">
    <h1 class="fw-300 function-desc">.lang(lang)

    <i>method</i></h1><p class="text">Gets or sets the language.<br>If there are more dictionaries available in cache, they will be loaded.</p>
        <h3>Accepts</h3>
        
        <ul class="params">
            <li class="level1">
                <p>lang
                    <span class="label mandatory"></span><span class="label string"></span></p>
                Language code to set this instance to.</li>
        </ul>

</section>

    <section id="Ink_Util_I18n_1-Ink_Util_I18n-langGlobal" class="box box-function">
    <h1 class="fw-300 function-desc">.langGlobal(lang)

    <i>method</i></h1><p class="text">Gets or sets the current default language of I18n instances.</p>
        <h3>Accepts</h3>
        
        <ul class="params">
            <li class="level1">
                <p>lang
                    <span class="label mandatory"></span></p>
                the new language for all I18n instances</li>
        </ul>
    <h3>Returns</h3>
    <ul class="params">
        <li class="return">
            <p><span class="label string"></span> </p>language code
        </li>
    </ul>
    

</section>

    <section id="Ink_Util_I18n_1-Ink_Util_I18n-ntext" class="box box-function">
    <h1 class="fw-300 function-desc">.ntext(strSin, strPlur, count, [args*])

    <i>method</i></h1><p class="text">Translates and pluralizes text.<br>Given a singular string, a plural string and a number, translates either the singular or plural string.</p>
        <h3>Accepts</h3>
        
        <ul class="params">
            <li class="level1">
                <p>strSin
                    <span class="label mandatory"></span><span class="label string"></span></p>
                Word to use when count is 1</li>
            <li class="level1">
                <p>strPlur
                    <span class="label mandatory"></span><span class="label string"></span></p>
                Word to use otherwise</li>
            <li class="level1">
                <p>count
                    <span class="label mandatory"></span><span class="label number"></span></p>
                Number which defines which word to use</li>
            <li class="level1">
                <p>args*
                    </p>
                Extra arguments, to be passed to `text()`</li>
        </ul>
    <h3>Returns</h3>
    <ul class="params">
        <li class="return">
            <p><span class="label string"></span> </p>
        </li>
    </ul>
    

<!--<h3>Samples</h3>-->
		{% include js_samples/Ink_Util_I18n_1_ntext.html %}
	</section>

    <section id="Ink_Util_I18n_1-Ink_Util_I18n-ordinal" class="box box-function">
    <h1 class="fw-300 function-desc">.ordinal(num, [options])

    <i>method</i></h1><p class="text">Gets the ordinal suffix of a number.<br><p>This works by using transforms (in the form of Objects or Functions) passed into the function or found in the special key <code>_ordinals</code> in the active language dictionary.</p></p>
        <h3>Accepts</h3>
        
        <ul class="params">
            <li class="level1">
                <p>num
                    <span class="label mandatory"></span><span class="label number"></span></p>
                Input number</li>
            <li class="level1">
                <p>options
                    <span class="label object"></span><span class="label function"></span></p>
                {}Dictionaries for translating. Each of these options' fallback is found in the current language's dictionary. The lookup order is the following: `exceptions`, `byLastDigit`, `default`. Each of these may be either an `Object` or a `Function`. If it's a function, it is called (with `number` and `digit` for any function except for byLastDigit, which is called with the `lastDigit` of the number in question), and if the function returns a string, that is used. If it's an object, the property is looked up using `obj[prop]`. If what is found is a string, it is used directly.</li>
            <li class="level2">
                <p>options.byLastDigit
                    <span class="label object"></span><span class="label function"></span></p>
                {}If the language requires the last digit to be considered, mappings of last digits to ordinal suffixes can be created here.</li>
            <li class="level2">
                <p>options.exceptions
                    <span class="label object"></span><span class="label function"></span></p>
                {}Map unique, special cases to their ordinal suffixes.</li>
        </ul>
    <h3>Returns</h3>
    <ul class="params">
        <li class="return">
            <p><span class="label string"></span> </p>Ordinal suffix for `num`.
        </li>
    </ul>
    

<!--<h3>Samples</h3>-->
		{% include js_samples/Ink_Util_I18n_1_ordinal.html %}
	</section>

    <section id="Ink_Util_I18n_1-Ink_Util_I18n-reset" class="box box-function">
    <h1 class="fw-300 function-desc">.reset()

    <i>method</i></h1><p class="text">Resets I18n global state (global dictionaries, and default language for instances)</p>

</section>

    <section id="Ink_Util_I18n_1-Ink_Util_I18n-testMode" class="box box-function">
    <h1 class="fw-300 function-desc">.testMode(bool)

    <i>method</i></h1><p class="text">Sets or unsets test mode.<br>In test mode, unknown strings are wrapped in <code>[ ... ]</code>. This is useful for debugging your application and to make sure all your translation keys are in place.</p>
        <h3>Accepts</h3>
        
        <ul class="params">
            <li class="level1">
                <p>bool
                    <span class="label mandatory"></span><span class="label boolean"></span></p>
                Flag to set the test mode state</li>
        </ul>

</section>

    <section id="Ink_Util_I18n_1-Ink_Util_I18n-text" class="box box-function">
    <h1 class="fw-300 function-desc">.text(str, [namedParms], [args], [arg2], [argn*])

    <i>method</i></h1><p class="text">Translates a string.<br>Given a translation key, return a translated string, with replaced parameters.<br>When a translated string is not available, the original string is returned unchanged.</p>
        <h3>Accepts</h3>
        
        <ul class="params">
            <li class="level1">
                <p>str
                    <span class="label mandatory"></span><span class="label string"></span></p>
                Key to look for in i18n dictionary (which is returned verbatim if unknown)</li>
            <li class="level1">
                <p>namedParms
                    <span class="label object"></span></p>
                Named replacements. Replaces {named} with values in this object.</li>
            <li class="level1">
                <p>args
                    <span class="label string"></span></p>
                Replacement #1 (replaces first {} and all {1})</li>
            <li class="level1">
                <p>arg2
                    <span class="label string"></span></p>
                Replacement #2 (replaces second {} and all {2})</li>
            <li class="level1">
                <p>argn*
                    <span class="label string"></span></p>
                Replacement #n (replaces nth {} and all {n})</li>
        </ul>

<!--<h3>Samples</h3>-->
		{% include js_samples/Ink_Util_I18n_1_text.html %}
	</section>



    
